# Android Sdk Tools
*veja em outras linguagens [English](/README.md)*

### Para que serve
* Construi ferramentas de plataforma e ferramentas de construção para Android, como `aapt aapt2 aidl zipalign adb fastboot` ... etc.

*Se você precisar de outras ferramentas, consulte as ferramentas existentes para adicionar o arquivo CMake*

*Atualmente, testado apenas a **arquitetura aarch64***

*Não testado para outras arquiteturas, então não posso garantir que funcionará, embora tenha suporte para compilação cruzada (cross-compiling)*

 **** 
 
### Como construir

- Método um, baixe o `release/sdk-tools-source.zip` diretamente para compilar, o código-fonte foi corrigido

```bash
# arch [armeabi-v7a, arm64-v8a, x86, x86_64]
python build.py \
    --ndk=/path/to/android-ndk-xxx \
    --abi=arm64-v8a
    
# specify the build output directory, default is build
python build.py \
    --ndk=/path/to/android-ndk-xxx \
    --abi=arm64-v8a \
    --build=build/aarch64
    
# specify the build target, such as aapt2 adb, etc
python build.py \
    --ndk=/path/to/android-ndk-xxx \
    --abi=arm64-v8a \
    --build=build/aarch64 \
    --target=aapt2
    
# there are also some options, execute python build.py --help to see

```

 **** 
 
- Método dois, comece do zero, git, clone o código-fonte e faça o patch manualmente
Por que fazer o patch manualmente? o principal motivo é que a ramificação mestre aosp é atualizada muito rapidamente, portanto, os arquivos de patch podem ser incompatíveis

```bash

# clone the repository
git clone --depth=1 https://github.com/Lzhiyong/sdk-tools

cd sdk-tools

# download the source code default is master branch
python get_source.py

# or you can specify the git tags
# the all available tags https://android.googlesource.com/platform/frameworks/base/+refs
python get_source.py --tags platform-tools-33.0.3

# note that you need a host protoc before compilation for generating cpp files
# host protoc not target platform protoc
# how to get a host protoc
# cd src/protobuf, use host clang or gcc to compile it, you can get a host protoc
# why not use the system's protobuf? mainly the version incompatibility
# if the protobuf version is too new, you may encounter the following error
# error: this file was generated by a newer version of protoc
python build.py \
    --ndk=/path/to/android-ndk-xxx \
    --abi=arm64-v8a \
    --build=build/aarch64 \
    --protoc=/path/to/protoc
    
```

 **** 
 
